<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        【R】【数据采集、抽样和预处理实验】 - undefined
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>

    









<meta name="generator" content="Hexo 5.4.1"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i>  </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/" />
        </div>
        <div class="name">
            <i>AXDLMG7</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>收藏</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE"><span class="toc-text">实验思维导图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%80"><span class="toc-text">实验一</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E5%90%AF%E5%8A%A8-Rstudio"><span class="toc-text">1.1 启动 Rstudio</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E6%96%B0%E5%BB%BA-R-Script-%E6%96%87%E4%BB%B6"><span class="toc-text">1.2 新建 R Script 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-read-csv-%E5%87%BD%E6%95%B0%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-text">1.3 read.csv()函数导入数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E5%89%94%E9%99%A4%E5%86%97%E4%BD%99%E5%8F%98%E9%87%8F"><span class="toc-text">1.4 剔除冗余变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86"><span class="toc-text">1.5 缺失值处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-%E5%BC%82%E5%B8%B8%E5%80%BC%E5%A4%84%E7%90%86"><span class="toc-text">1.6 异常值处理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BA%8C"><span class="toc-text">实验二</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%90%AF%E5%8A%A8-Rstudio"><span class="toc-text">2.1 启动 Rstudio</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E6%96%B0%E5%BB%BA-R-Script-%E6%96%87%E4%BB%B6"><span class="toc-text">2.2 新建 R Script 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E4%B8%8B%E8%BD%BD%E6%95%B0%E6%8D%AE"><span class="toc-text">2.3 下载数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-read-csv-%E5%87%BD%E6%95%B0%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-text">2.4 read.csv()函数导入数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E7%AE%80%E5%8D%95%E6%8E%A2%E7%B4%A2%E6%95%B0%E6%8D%AE"><span class="toc-text">2.5 简单探索数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E8%AF%86%E5%88%AB%E7%BC%BA%E5%A4%B1%E6%83%85%E5%86%B5"><span class="toc-text">2.6 识别缺失情况</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86"><span class="toc-text">2.7 缺失值处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#job%E5%A4%84%E7%90%86"><span class="toc-text">job处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#poutcome%E5%A4%84%E7%90%86"><span class="toc-text">poutcome处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#education%E5%A4%84%E7%90%86"><span class="toc-text">education处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-%E5%BC%82%E5%B8%B8%E5%80%BC%E8%AF%86%E5%88%AB"><span class="toc-text">2.8 异常值识别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%86%E5%88%AB"><span class="toc-text">识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%94%E9%99%A4"><span class="toc-text">剔除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-9-%E5%88%9B%E5%BB%BA%E5%BC%82%E5%B8%B8%E5%80%BC"><span class="toc-text">2.9 创建异常值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-10-%E5%88%86%E6%AE%B5%E5%A4%84%E7%90%86"><span class="toc-text">2.10 分段处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-11-%E5%88%86%E5%B1%82%E6%8A%BD%E6%A0%B7"><span class="toc-text">2.11 分层抽样</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B5%84%E6%96%99"><span class="toc-text">资料</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reference"><span class="toc-text">Reference</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i>  </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        【R】【数据采集、抽样和预处理实验】
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2022-03-24 07:46:34</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#Data Mining" title="Data Mining">Data Mining</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#实验" title="实验">实验</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h1 id="实验思维导图"><a href="#实验思维导图" class="headerlink" title="实验思维导图"></a>实验思维导图</h1><p><img src="https://img-blog.csdnimg.cn/a2ca75a05065482285250b1d925c3add.png" alt="在这里插入图片描述"></p>
<h1 id="实验一"><a href="#实验一" class="headerlink" title="实验一"></a>实验一</h1><h2 id="1-1-启动-Rstudio"><a href="#1-1-启动-Rstudio" class="headerlink" title="1.1 启动 Rstudio"></a>1.1 启动 Rstudio</h2><h2 id="1-2-新建-R-Script-文件"><a href="#1-2-新建-R-Script-文件" class="headerlink" title="1.2 新建 R Script 文件"></a>1.2 新建 R Script 文件</h2><h2 id="1-3-read-csv-函数导入数据"><a href="#1-3-read-csv-函数导入数据" class="headerlink" title="1.3 read.csv()函数导入数据"></a>1.3 read.csv()函数导入数据</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mydata &lt;- read.csv(<span class="string">&quot;~\\chengjidan.csv&quot;</span>)</span><br><span class="line"><span class="comment">#路径：右下双斜杠</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/95345c226c724fbf9a4521ad919621a4.png" alt="在这里插入图片描述"></p>
<h2 id="1-4-剔除冗余变量"><a href="#1-4-剔除冗余变量" class="headerlink" title="1.4 剔除冗余变量"></a>1.4 剔除冗余变量</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#剔除第2、9列:无关、冗余变量（性别、副科总分）</span></span><br><span class="line">mydata &lt;- mydata[-<span class="built_in">c</span>(<span class="number">2</span>,<span class="number">9</span>)]</span><br><span class="line"><span class="comment">#变量名[-c(x,y)]，其中c表示column，删除第x列与第y列</span></span><br><span class="line"></span><br><span class="line">head(mydata,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/804eaf0c75fa4c848a48c75afa15e58d.png" alt="在这里插入图片描述"></p>
<h2 id="1-5-缺失值处理"><a href="#1-5-缺失值处理" class="headerlink" title="1.5 缺失值处理"></a>1.5 缺失值处理</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看缺失值数量</span></span><br><span class="line"><span class="built_in">sum</span>(<span class="built_in">is.na</span>(mydata))</span><br><span class="line"></span><br><span class="line"><span class="comment">#打印缺失值所在行</span></span><br><span class="line">mydata[!complete.cases(mydata),]</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/0e948011e87e40b9ab4b19722798f0b0.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取缺失值所在行序号</span></span><br><span class="line">sub &lt;- which(<span class="built_in">is.na</span>(mydata$语文))</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/1b31917edee444c69686808d199cb41b.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除有缺失值的样本，13obs</span></span><br><span class="line">mydata_1 &lt;- mydata[-sub,]</span><br><span class="line"></span><br><span class="line"><span class="comment">#提取缺失值样本，2obs</span></span><br><span class="line">mydata_2 &lt;- mydata[sub,]</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/b153cce111f84cd9beb91a04bd83eeb7.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#语文avg</span></span><br><span class="line">avg_chinese &lt;- <span class="built_in">round</span>(mean(mydata_1$语文),<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#均值填补缺失值，data name$column：缺失的列</span></span><br><span class="line">mydata_2$语文 &lt;- <span class="built_in">rep</span>(avg_chinese,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/e5eed5b3925044db8c221c09e6b231b7.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#rbind()合并mydata_1与mydata_2</span></span><br><span class="line">result &lt;- rbind(mydata_1,mydata_2)</span><br><span class="line"></span><br><span class="line">result</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/64938722727c4a5299cb696d285987af.png" alt="在这里插入图片描述"></p>
<h2 id="1-6-异常值处理"><a href="#1-6-异常值处理" class="headerlink" title="1.6 异常值处理"></a>1.6 异常值处理</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#拆分绘图区域</span></span><br><span class="line">par(mfrow = <span class="built_in">c</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制单变量，横向</span></span><br><span class="line">dotchart(mydata$数学)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/b2a56687ea3e4102a3ffe2c931e97797.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#箱型图查看异常值</span></span><br><span class="line"><span class="comment">#转置为横向</span></span><br><span class="line">boxplot(mydata$数学,horizontal = <span class="built_in">T</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/6da48d5232104a5e8cb01a93205acbeb.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#筛选箱外值并手动赋值</span></span><br><span class="line">index &lt;- which(mydata$数学 &lt; <span class="number">20</span>)</span><br><span class="line">result[index,<span class="string">&#x27;数学&#x27;</span>] &lt;- <span class="number">91</span></span><br><span class="line"></span><br><span class="line">head(result)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/0cc2141c330b4b4196711a9dc03cfb72.png" alt="在这里插入图片描述"></p>
<h1 id="实验二"><a href="#实验二" class="headerlink" title="实验二"></a>实验二</h1><h2 id="2-1-启动-Rstudio"><a href="#2-1-启动-Rstudio" class="headerlink" title="2.1 启动 Rstudio"></a>2.1 启动 Rstudio</h2><h2 id="2-2-新建-R-Script-文件"><a href="#2-2-新建-R-Script-文件" class="headerlink" title="2.2 新建 R Script 文件"></a>2.2 新建 R Script 文件</h2><h2 id="2-3-下载数据"><a href="#2-3-下载数据" class="headerlink" title="2.3 下载数据"></a>2.3 下载数据</h2><p><a target="_blank" rel="noopener" href="http://archive.ics.uci.edu/ml/machine-learning-databases/00222/">数据下载链接</a>–&gt;bank-additional.zip–&gt;目标路径</p>
<h2 id="2-4-read-csv-函数导入数据"><a href="#2-4-read-csv-函数导入数据" class="headerlink" title="2.4 read.csv()函数导入数据"></a>2.4 read.csv()函数导入数据</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mydata &lt;- read.csv(<span class="string">&quot;~\\bank-additional-full.csv&quot;</span>, sep = <span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"><span class="comment">#csv文件以逗号分隔</span></span><br><span class="line"><span class="comment">#seq 参数用来指定字符的分隔符号</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/9a9d9acd267d48eab2a2a8da1f73877e.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/3e0d29a295a6431ab0ceef06007eaf6a.png" alt="在这里插入图片描述"></p>
<h2 id="2-5-简单探索数据"><a href="#2-5-简单探索数据" class="headerlink" title="2.5 简单探索数据"></a>2.5 简单探索数据</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str(mydata)  </span><br><span class="line"><span class="comment">#查看基本数据结构&amp;数据类型</span></span><br><span class="line"><span class="comment">#这些变量包含 Factor、int、num 三个类型</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/e20460e0ab584ff7b24208b535a2841a.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/7f782dc230de453c9c712c1f5622d212.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summary(mydata)  <span class="comment">#查看每个变量的主要描述性统计量</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/91f83b1d4037422f9be99743cb75b47b.png" alt="在这里插入图片描述"></p>
<h2 id="2-6-识别缺失情况"><a href="#2-6-识别缺失情况" class="headerlink" title="2.6 识别缺失情况"></a>2.6 识别缺失情况</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">prop.table(table(mydata$job))</span><br><span class="line">prop.table(table(mydata$poutcome))</span><br><span class="line">prop.table(table(mydata$education))</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/911f043091e14d0da2439c3b7462b080.png" alt="在这里插入图片描述"></p>
<h2 id="2-7-缺失值处理"><a href="#2-7-缺失值处理" class="headerlink" title="2.7 缺失值处理"></a>2.7 缺失值处理</h2><h3 id="job处理"><a href="#job处理" class="headerlink" title="job处理"></a>job处理</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#job列中的unknown更换为NA以便剔除</span></span><br><span class="line">mydata$job[which(mydata$job == <span class="string">&#x27;unknown&#x27;</span>)] &lt;- <span class="literal">NA</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#na.omit()剔除含有缺失值的样本</span></span><br><span class="line">mydata_clear1 &lt;- na.omit(mydata)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/2a129766de64455a9b570db5a429bc0c.png" alt="在这里插入图片描述"></p>
<h3 id="poutcome处理"><a href="#poutcome处理" class="headerlink" title="poutcome处理"></a>poutcome处理</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#剔除poutcome列,20 variables</span></span><br><span class="line">mydata_clear2 &lt;- subset(mydata_clear1,select = -poutcome)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/53b7da2099a14ed4b09c4fea02b70db0.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/51e7bc69942f46da9d2cb7490f676526.png" alt="在这里插入图片描述"></p>
<h3 id="education处理"><a href="#education处理" class="headerlink" title="education处理"></a>education处理</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#众数填补education列中的未知特征值</span></span><br><span class="line">edu_max &lt;- <span class="built_in">names</span>(which.max(table(mydata_clear2$education)))</span><br><span class="line"><span class="comment">#which.max()将众数写入edu_max</span></span><br><span class="line"></span><br><span class="line">mydata_clear2$education &lt;- ifelse(mydata_clear2$education != <span class="string">&#x27;unknown&#x27;</span>,</span><br><span class="line">                                  <span class="built_in">as.character</span>(mydata_clear2$education),edu_max)</span><br><span class="line"><span class="comment">#ifelse()循环替换&#x27;unknown&#x27;</span></span><br><span class="line"><span class="comment">#在两个特征中有未知特征值：university  degree</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/14fc6773f3f04ded861ad65c091a7b7b.png" alt="在这里插入图片描述"></p>
<h2 id="2-8-异常值识别"><a href="#2-8-异常值识别" class="headerlink" title="2.8 异常值识别"></a>2.8 异常值识别</h2><h3 id="识别"><a href="#识别" class="headerlink" title="识别"></a>识别</h3><p>参数boxwex:<a target="_blank" rel="noopener" href="https://search.r-project.org/CRAN/refmans/fields/html/bplot.html">R-Documentation-boxwex</a></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">boxplot(mydata_clear2$age, boxwex = <span class="number">0.7</span>)</span><br><span class="line"><span class="comment">#箱线图boxplot()</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/f8a7c999d414462a91346584e672e1b0.png" alt="在这里插入图片描述"></p>
<h3 id="剔除"><a href="#剔除" class="headerlink" title="剔除"></a>剔除</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置异常值范围，将异常值写入index2</span></span><br><span class="line">index2 &lt;- which(mydata_clear2$age &gt;= <span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除异常值</span></span><br><span class="line">mydata_clear2 &lt;- mydata_clear2[-index2, ]</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/cce816fa60be4a908241174e03df646e.png" alt="在这里插入图片描述"></p>
<h2 id="2-9-创建异常值"><a href="#2-9-创建异常值" class="headerlink" title="2.9 创建异常值"></a>2.9 创建异常值</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">set.seed(<span class="number">1234</span>)</span><br><span class="line"><span class="comment">#随机种子理解为：编号xxx的随机数发生，为了保证每次实验一致</span></span><br><span class="line"></span><br><span class="line">index &lt;- sample(<span class="number">1</span>:nrow(mydata_clear2),<span class="number">5</span>)</span><br><span class="line"><span class="comment">#sample(x,size,replace = FALSE)</span></span><br><span class="line"><span class="comment">#x为整体数据，以向量形式给出；</span></span><br><span class="line"><span class="comment">#size为抽取样本的数目；</span></span><br><span class="line"><span class="comment">#replace如果为F不重复抽样，T重复抽样，size&lt;x</span></span><br><span class="line"><span class="comment">#nrow()函数用于返回指定矩阵的行数</span></span><br><span class="line"></span><br><span class="line">mydata_clear2$age[index] &lt;- mydata_clear2$age[index] * <span class="number">3</span></span><br><span class="line"><span class="comment">#故意随机改变5个数据的index值</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/4f5f9bd43d41446992ff96a221436485.png" alt="在这里插入图片描述"></p>
<h2 id="2-10-分段处理"><a href="#2-10-分段处理" class="headerlink" title="2.10 分段处理"></a>2.10 分段处理</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置分段要求，即赋值</span></span><br><span class="line">mydata_clear3 &lt;- within(mydata_clear2, </span><br><span class="line">&#123;</span><br><span class="line">  newage = <span class="number">0</span></span><br><span class="line">  newage[age &lt; <span class="number">18</span>] = <span class="string">&#x27;A&#x27;</span></span><br><span class="line">  newage[age &gt;= <span class="number">18</span> &amp; age &lt; <span class="number">30</span>] = <span class="string">&#x27;B&#x27;</span></span><br><span class="line">  newage[age &gt;= <span class="number">30</span> &amp; age &lt; <span class="number">60</span>] = <span class="string">&#x27;C&#x27;</span></span><br><span class="line">  newage[age &gt;= <span class="number">60</span>] = <span class="string">&#x27;D&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">#table()查看统计</span></span><br><span class="line">table(mydata_clear3$newage)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/c2013ae1c0c44069a5582f6a870a47d8.png" alt="在这里插入图片描述"></p>
<h2 id="2-11-分层抽样"><a href="#2-11-分层抽样" class="headerlink" title="2.11 分层抽样"></a>2.11 分层抽样</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装caret程序包相关程序包</span></span><br><span class="line"><span class="keyword">if</span>(!suppressWarnings(require(<span class="string">&#x27;caret&#x27;</span>)))&#123;</span><br><span class="line">  install.packages(<span class="string">&#x27;caret&#x27;</span>)</span><br><span class="line">  require(<span class="string">&#x27;caret&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#createDataPartition()函数对y变量分层抽样</span></span><br><span class="line">index3 &lt;- createDataPartition(mydata_clear3$y, p = <span class="number">0.8</span>, <span class="built_in">list</span> = <span class="built_in">F</span>)</span><br><span class="line">newdata &lt;- mydata_clear3[index3, ]</span><br><span class="line"><span class="comment">#将抽样的数据放入newdata中</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/9e15e311eb54469186a065198a289885.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#p:用于训练的数据百分比</span></span><br><span class="line"><span class="comment">#list：逻辑-结果应该在一个列表（TRUE）或amatrix中，行数等于floor（p*length（y））和times列</span></span><br><span class="line"><span class="comment">#list = F理解为拆分完不在同一个表中</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/f359ecb9d5354c04a0aede64c8dabada.png" alt="在这里插入图片描述"></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看抽样前后数据是否一致</span></span><br><span class="line">prop.table(table(mydata_clear3$y))</span><br><span class="line">prop.table(table((newdata$y)))</span><br><span class="line"><span class="comment">#发现抽样前和抽样后的数据在 y 上比较一致，证明这次分层抽样是成功</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/f247372151d946a59ba454426ae2bf18.png" alt="在这里插入图片描述"></p>
<h1 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h1><p><a target="_blank" rel="noopener" href="https://www.aliyundrive.com/s/DJqT1L2bpWm">实验资料</a></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/arcserver/p/7906115.html">R语言 set.seed()函数–junjunang–博客园</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/vencent_cy/article/details/50350020">R语言set.seed()函数的意义以及用法–vencent-cy–CSDN</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/20bb2528753b">R语言sample()函数–tianzhanlan–简书</a></p>
<p><a target="_blank" rel="noopener" href="http://www.idata8.com/rpackage/caret/createDataPartition.html">R语言caret包 createDataPartition函数使用说明–爱数吧</a></p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.xml"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






</html>
